<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>카운트다운 타이머</title>
    <!-- Tailwind CSS CDN 연결 -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen flex items-center justify-center">
    <div class="bg-white rounded-lg shadow-2xl p-8 w-full max-w-md">
        <!-- 제목 -->
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">⏱️ 카운트다운 타이머</h1>

        <!-- 시간 표시 영역 -->
        <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-8 mb-8 text-center">
            <div id="timeDisplay" class="text-6xl font-bold text-white font-mono">
                00:00:00
            </div>
            <p class="text-blue-100 mt-2 text-sm">시간 : 분 : 초</p>
        </div>

        <!-- 단위 선택 드롭다운 -->
        <div class="mb-6">
            <label class="block text-sm font-semibold text-gray-700 mb-2">단위 선택:</label>
            <select id="unitSelect" class="w-full px-4 py-2 border-2 border-blue-300 rounded-lg focus:outline-none focus:border-blue-500 bg-blue-50">
                <option value="second">초 (Second)</option>
                <option value="minute">분 (Minute)</option>
                <option value="hour">시간 (Hour)</option>
            </select>
        </div>

        <!-- 증가/감소 버튼 -->
        <div class="flex gap-4 mb-6">
            <button id="decreaseBtn" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition duration-200">
                −1
            </button>
            <button id="increaseBtn" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-200">
                +1
            </button>
        </div>

        <!-- 제어 버튼들 -->
        <div class="flex gap-3 mb-6">
            <button id="resetBtn" class="flex-1 bg-blue-400 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded-lg transition duration-200">
                리셋
            </button>
            <button id="startBtn" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition duration-200">
                시작
            </button>
            <button id="pauseBtn" class="flex-1 bg-blue-300 hover:bg-blue-400 text-white font-bold py-2 px-4 rounded-lg transition duration-200">
                일시중지
            </button>
        </div>

        <!-- 상태 표시 -->
        <p id="statusText" class="text-center text-gray-600 text-sm">준비 완료</p>
    </div>

    <script>
        // ========== 변수 선언 ==========
        // 전체 시간을 초 단위로 저장하는 변수
        let totalSeconds = 0;
        // 타이머가 실행 중인지 확인하는 변수
        let isRunning = false;
        // setInterval의 ID를 저장 (나중에 멈출 때 사용)
        let timerInterval = null;

        // ========== HTML 요소 가져오기 ==========
        // 시간을 표시하는 element
        const timeDisplay = document.getElementById('timeDisplay');
        // 단위 선택 드롭다운
        const unitSelect = document.getElementById('unitSelect');
        // 각 버튼들
        const decreaseBtn = document.getElementById('decreaseBtn');
        const increaseBtn = document.getElementById('increaseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        // 상태 메시지 표시 element
        const statusText = document.getElementById('statusText');

        // ========== 함수들 ==========

        // 초를 HH:MM:SS 형식으로 변환하는 함수
        function formatTime(seconds) {
            // Math.floor로 소수점 제거
            const hours = Math.floor(seconds / 3600);      // 3600초 = 1시간
            const minutes = Math.floor((seconds % 3600) / 60); // 남은 초를 60으로 나눔
            const secs = seconds % 60;                      // 60으로 나눈 나머지

            // 숫자가 한 자리일 때 앞에 0을 붙이기 (예: 5 → 05)
            return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }

        // 화면에 시간을 표시하는 함수
        function updateDisplay() {
            timeDisplay.textContent = formatTime(totalSeconds);
        }

        // 현재 선택된 단위에 따라 시간을 증가시키는 함수
        function increaseTime() {
            // 드롭다운에서 선택된 단위 가져오기
            const unit = unitSelect.value;

            if (unit === 'second') {
                // "초"가 선택되면 1초 추가
                totalSeconds += 1;
            } else if (unit === 'minute') {
                // "분"이 선택되면 60초(1분) 추가
                totalSeconds += 60;
            } else if (unit === 'hour') {
                // "시간"이 선택되면 3600초(1시간) 추가
                totalSeconds += 3600;
            }

            updateDisplay();
        }

        // 현재 선택된 단위에 따라 시간을 감소시키는 함수
        function decreaseTime() {
            const unit = unitSelect.value;

            if (unit === 'second') {
                totalSeconds -= 1;
            } else if (unit === 'minute') {
                totalSeconds -= 60;
            } else if (unit === 'hour') {
                totalSeconds -= 3600;
            }

            // 음수가 되지 않도록 0 이하이면 0으로 설정
            if (totalSeconds < 0) {
                totalSeconds = 0;
            }

            updateDisplay();
        }

        // 타이머를 시작하는 함수
        function startTimer() {
            // 이미 실행 중이면 다시 시작하지 않기
            if (isRunning) return;

            // 시간이 0보다 크면 시작 가능
            if (totalSeconds > 0) {
                isRunning = true;
                statusText.textContent = '⏱️ 타이머 실행 중...';

                // 1초마다 실행되는 반복
                timerInterval = setInterval(() => {
                    totalSeconds--;      // 1초 감소
                    updateDisplay();     // 화면 업데이트

                    // 0에 도달하면 타이머 멈추기
                    if (totalSeconds <= 0) {
                        clearInterval(timerInterval);
                        isRunning = false;
                        statusText.textContent = '✅ 완료!';
                        totalSeconds = 0;
                        updateDisplay();
                    }
                }, 1000); // 1000ms = 1초
            } else {
                statusText.textContent = '⚠️ 시간을 설정해주세요';
            }
        }

        // 타이머를 일시중지하는 함수
        function pauseTimer() {
            if (isRunning) {
                clearInterval(timerInterval);  // 반복 멈추기
                isRunning = false;
                statusText.textContent = '⏸️ 일시중지됨';
            }
        }

        // 타이머를 리셋하는 함수
        function resetTimer() {
            clearInterval(timerInterval);  // 실행 중인 타이머 멈추기
            isRunning = false;
            totalSeconds = 0;              // 초를 0으로 초기화
            updateDisplay();               // 화면 업데이트
            statusText.textContent = '준비 완료';
        }

        // ========== 버튼 이벤트 리스너 추가 ==========
        // 버튼을 클릭했을 때 실행될 함수를 지정

        decreaseBtn.addEventListener('click', decreaseTime);
        increaseBtn.addEventListener('click', increaseTime);
        resetBtn.addEventListener('click', resetTimer);
        startBtn.addEventListener('click', startTimer);
        pauseBtn.addEventListener('click', pauseTimer);

        // 초기 화면 표시
        updateDisplay();
    </script>
</body>
</html>
